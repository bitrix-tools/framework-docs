# UI.Hint

## Описание

`UI.Hint` — это JavaScript-расширение для создания и управления всплывающими подсказками (хинт). Компонент позволяет добавлять подсказки к любым элементам на странице как декларативно через HTML-атрибуты, так и программно с помощью JavaScript API.

**Расположение:** `/ui/install/js/ui/hint/`

## Подключение

Для использования `UI.Hint` необходимо подключить расширение:

```php
\Bitrix\Main\UI\Extension::load('ui.hint');
```

## Декларативное использование (HTML)

Самый простой способ добавить подсказку — использовать `data-hint` атрибут. Элемент с таким атрибутом автоматически инициализируется и получит иконку подсказки.

```html
<span data-hint="Текст простой подсказки."></span>
```

### Основные атрибуты

| Атрибут | Описание |
|---|---|
| `data-hint` | **Обязательный.** Устанавливает текст подсказки. Если текст не указан, подсказка не будет показана. |
| `data-hint-html` | Указывает, что содержимое `data-hint` является HTML-кодом. По умолчанию текст экранируется. |
| `data-hint-interactivity` | Делает подсказку интерактивной: она не будет закрываться при наведении на нее курсора, что позволяет взаимодействовать с ее содержимым (например, кликнуть по ссылке). |
| `data-hint-no-icon` | Отключает отображение стандартной иконки подсказки. Атрибут следует добавлять к элементу, у которого уже есть видимое содержимое. |
| `data-hint-center` | Центрирует подсказку относительно элемента, к которому она привязана. |

### Примеры использования

#### Простая текстовая подсказка

```html
<span data-hint="Это простая текстовая подсказка."></span>
```

#### Подсказка с HTML-содержимым

Для вставки сложного форматирования используйте атрибут `data-hint-html`.

```html
<span
  data-hint="Это <b>жирный</b> текст и <a href='#'>ссылка</a>."
  data-hint-html
></span>
```

#### Интерактивная подсказка

Полезна, когда в подсказке есть ссылки или кнопки.

```html
<span
  data-hint="В этой подсказке можно <a href='#' onclick='alert(\"Клик!\"); return false;'>нажать на ссылку</a>."
  data-hint-html
  data-hint-interactivity
></span>
```

#### Подсказка без иконки

Используется, когда подсказка нужна для элемента, у которого уже есть контент.

```html
<span data-hint="Подсказка для этого текста." data-hint-no-icon>
  Наведите на меня
</span>
```

## Программное использование (JavaScript)

`UI.Hint` предоставляет глобальный объект `BX.UI.Hint` для управления подсказками.

### Инициализация подсказок

Если подсказки добавляются на страницу динамически, их нужно инициализировать.

```javascript
// Инициализировать все неинициализированные подсказки в документе
BX.UI.Hint.init();

// Инициализировать подсказки в пределах конкретного контейнера
const container = document.getElementById('my-container');
BX.UI.Hint.init(container);
```

### Создание узла подсказки

Вы можете создать DOM-узел подсказки с помощью JavaScript.

```javascript
const hintNode = BX.UI.Hint.createNode('Текст для новой подсказки');
document.body.appendChild(hintNode);
```

### Методы API

| Метод | Описание |
|---|---|
| `init(context)` | Инициализирует все подсказки с атрибутом `data-hint` внутри `context` (по умолчанию `document.body`). |
| `createNode(text)` | Создает и возвращает DOM-элемент `<span>` с настроенной подсказкой. |
| `show(anchorNode, html, centerPos)` | Программно показывает подсказку для элемента `anchorNode`. |
| `hide()` | Программно скрывает текущую активную подсказку. |
| `createInstance(parameters)` | Создает новый, изолированный экземпляр менеджера подсказок с кастомными параметрами. |

### Создание кастомного экземпляра

Для особых случаев можно создать отдельный менеджер подсказок.

```javascript
const myHintManager = BX.UI.Hint.createInstance({
    attributeName: 'data-my-hint',
    className: 'my-hint-class'
});

// Этот менеджер будет работать только с атрибутом data-my-hint
myHintManager.init();
```